(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{133:function(e,a,t){},136:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(16),l=t.n(r),i=(t(84),t(26)),c=t(27),s=t(29),d=t(28),m=t(30),h=t(76),u=t(20),g={title:{fontFamily:"Arvo"},white:{color:"white"},background:{backgroundImage:'url("/book-stack.jpg")',backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPositionY:"bottom",color:"white"}};function f(){return o.a.createElement("div",{style:g.background,className:"jumbotron jumbotron-fluid"},o.a.createElement("div",{className:"container"},o.a.createElement("h1",{style:g.title,className:"display-4"},"gBooks"),o.a.createElement("p",{className:"lead"},"Search and save your favorite titles using the Google Books API.")))}var v=t(19),p=t.n(v),k={infoContainer:{display:"inline-block"},row:{marginBottom:"2rem"},button:{position:"absolute",top:0,right:0},title:{display:"inline-block",fontWeight:"bold"}};function b(e){var a;return"search"===e.page?a=o.a.createElement(p.a,{onClick:e.handlerSaveBook,value:e.id,style:k.button,variant:"warning"},o.a.createElement("i",{value:e.id,className:"far fa-lg fa-save"})):"saved"===e.page&&(a=o.a.createElement(p.a,{onClick:e.handlerDeleteBook,value:e._id,style:k.button,variant:"danger"},o.a.createElement("i",{value:e._id,className:"fas fa-lg fa-trash-alt"}))),o.a.createElement("div",{key:e.id,style:k.row,className:"row"},o.a.createElement("div",{className:"col-2"},o.a.createElement("img",{src:e.image,alt:"".concat(e.title,' book cover"')})),o.a.createElement("div",{className:"col-10",style:k.infoContainer},o.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},o.a.createElement("p",{style:k.title},e.title)),void 0!==e.authors?o.a.createElement("p",null,e.authors.map(function(e){return o.a.createElement("span",null,o.a.createElement("em",null,e),"\xa0\xa0|\xa0\xa0")})):o.a.createElement("p",null,"No authors provided."),o.a.createElement("p",null,e.description),a))}var E=t(74),y=t.n(E),w={container:{marginBottom:"2rem"}};function B(e){var a;return a=e.books.length?e.books.map(function(a){return o.a.createElement(b,{key:a.id,id:a.id,_id:a._id,page:e.page,handlerDeleteBook:e.handlerDeleteBook,handlerSaveBook:e.handlerSaveBook,description:a.description,link:a.link,title:a.title,authors:a.authors,image:a.image})}):"saved"===e.page?o.a.createElement(y.a,{variant:"info"},"No saved books."):o.a.createElement("div",null),o.a.createElement("div",{style:w.container,className:"container"},a)}var S=t(32),C=t.n(S);function j(e){return o.a.createElement(C.a,{show:e.show,onHide:e.handlerCloseModal},o.a.createElement(C.a.Header,{closeButton:!0},o.a.createElement(C.a.Title,null,e.modalTitle)),o.a.createElement(C.a.Body,null,e.modalBody),o.a.createElement(C.a.Footer,null,o.a.createElement(p.a,{variant:"primary",onClick:e.handlerCloseModal},o.a.createElement("span",{role:"img","aria-label":"thumbs up emoji"},"\ud83d\udc4d"))))}var T=t(35),N=t.n(T),O={getBooks:function(){return N.a.get("/api/books")},findBooks:function(e){return N.a.post("/api/books/search",{search:e})},saveBook:function(e){return N.a.post("/api/books",e)},deleteBook:function(e){return N.a.delete("/api/books/"+e)}},I=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(s.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(o)))).state={books:[],modalTitle:"",modalBody:"",modalShow:!1,page:"saved"},t.handlerLoadBooks=function(){O.getBooks().then(function(e){return t.setState({books:e.data})}).catch(function(e){return console.log(e)})},t.handlerCloseModal=function(){t.setState({modalShow:!1})},t.handlerDeleteBook=function(e){O.deleteBook(e.target.value).then(function(e){console.log(e),t.handlerLoadBooks(),t.setState({modalTitle:"Deleted!",modalBody:"Book successfully deleted.",modalShow:!0})}).catch(function(e){t.setState({modalTitle:"Uh oh",modalBody:"Sorry for the inconvenience. Please try again later.",modalShow:!0}),console.log(e)})},t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.handlerLoadBooks()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(f,null),o.a.createElement(B,{handlerDeleteBook:this.handlerDeleteBook,page:this.state.page,books:this.state.books}),o.a.createElement(j,{handlerCloseModal:this.handlerCloseModal,modalTitle:this.state.modalTitle,modalBody:this.state.modalBody,show:this.state.modalShow}))}}]),a}(n.Component),x=t(75),D=t.n(x),F={spinner:{width:"1.3rem",height:"1.3rem",marginRight:".4rem"}};function L(e){var a;return a=e.loading?o.a.createElement(p.a,{variant:"primary"},o.a.createElement(D.a,{style:F.spinner,animation:"grow",size:"sm",variant:"light"})," Loading"):o.a.createElement(p.a,{variant:"primary"},"Search"),o.a.createElement("form",{onSubmit:e.handlerFormSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"search"},"Search"),o.a.createElement("input",{value:e.searchTerm,onChange:e.handlerInputChange,type:"text",className:"form-control",id:"search","aria-describedby":"searchHelp",placeholder:"Harry Potter"}),o.a.createElement("small",{id:"searchHelp",className:"form-text text-muted"},"Search for your favorite book title or author.")),a)}var M={container:{marginBottom:"2rem"}};function R(e){return o.a.createElement("div",{style:M.container,className:"container"},o.a.createElement(L,{loading:e.loading,searchTerm:e.searchTerm,handlerInputChange:e.handlerInputChange,handlerFormSubmit:e.handlerFormSubmit}))}var A=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(s.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(o)))).state={books:[],searchTerm:"",modalTitle:"",modalBody:"",modalShow:!1,loading:!1,page:"search"},t.handlerInputChange=function(e){t.setState({searchTerm:e.target.value})},t.handlerFormSubmit=function(e){e.preventDefault(),t.setState({loading:!0}),O.findBooks(t.state.searchTerm).then(function(e){t.setState({books:e.data,loading:!1})})},t.handlerSaveBook=function(e){var a=t.state.books.find(function(a){return a.id===e.target.value});O.saveBook(a).then(function(e){t.setState({modalTitle:e.data.title+" saved.",modalBody:"Go to the Saved page to see your saved books.",modalShow:!0})}).catch(function(e){t.setState({modalTitle:"Uh oh",modalBody:"Sorry for the inconvenience. Please try again later.",modalShow:!0})})},t.handlerCloseModal=function(){t.setState({modalShow:!1})},t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(f,null),o.a.createElement(R,{loading:this.state.loading,searchTerm:this.state.searchTerm,handlerInputChange:this.handlerInputChange,handlerFormSubmit:this.handlerFormSubmit}),o.a.createElement(B,{handlerSaveBook:this.handlerSaveBook,page:this.state.page,books:this.state.books}),o.a.createElement(j,{handlerCloseModal:this.handlerCloseModal,modalTitle:this.state.modalTitle,modalBody:this.state.modalBody,show:this.state.modalShow}))}}]),a}(n.Component);function H(){return o.a.createElement("div",null,o.a.createElement("h1",null,"404"))}var P=t(140),W=t(139),_={icon:{marginRight:".5rem"},navbar:{borderRight:"solid 1px lightgrey",margin:0,paddingRight:"1rem"},search:{paddingLeft:"1rem"}};function U(e){return o.a.createElement(P.a,{sticky:"top",bg:"light",expand:"lg"},o.a.createElement(P.a.Brand,{style:_.navbar,href:"/"},o.a.createElement("img",{style:_.icon,src:"/favicon.ico",width:"30",height:"30",alt:"gBooks Icon"}),"gBooks"),o.a.createElement(P.a.Toggle,{"aria-controls":"basic-navbar-nav"}),o.a.createElement(P.a.Collapse,{id:"basic-navbar-nav"},o.a.createElement(W.a,{activeKey:e.location,className:"mr-auto"},o.a.createElement(W.a.Link,{style:_.search,href:"/"},"Search"),o.a.createElement(W.a.Link,{href:"/saved"},"Saved"))))}t(133);var z=function(e){function a(){return Object(i.a)(this,a),Object(s.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement(h.a,null,o.a.createElement(U,{location:window.location.pathname}),o.a.createElement(u.c,null,o.a.createElement(u.a,{exact:!0,path:"/",component:A}),o.a.createElement(u.a,{exact:!0,path:"/saved",component:I}),o.a.createElement(u.a,{component:H})))}}]),a}(n.Component),G=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function J(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(o.a.createElement(z,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");G?function(e){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):J(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):J(e)})}}()},79:function(e,a,t){e.exports=t(136)},84:function(e,a,t){}},[[79,1,2]]]);
//# sourceMappingURL=main.f5ce3715.chunk.js.map